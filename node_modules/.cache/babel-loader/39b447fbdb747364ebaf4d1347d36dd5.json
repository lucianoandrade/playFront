{"ast":null,"code":"import _slicedToArray from \"/Users/luciano/Desktop/Projetos/PlayerStars/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/luciano/Desktop/Projetos/PlayerStars/frontend/src/pages/Login/index.js\";\nimport React, { useState } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Auth } from 'aws-amplify';\nimport PageContainer from \"../../components/features/PageContainer\";\nimport logoPlaystars from \"../../assets/images/logo_playerStars.svg\";\nimport iconFacebook from \"../../assets/icons/facebook.svg\";\nimport iconGoogle from \"../../assets/icons/google_plus.svg\";\nimport './styles.scss';\nimport Loader from '../../components/elements/Loader';\n\nfunction Login(props) {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        email = _useState2[0],\n        setEmail = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        senha = _useState4[0],\n        setSenha = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        loading = _useState6[0],\n        setLoading = _useState6[1];\n\n  const _useState7 = useState(true),\n        _useState8 = _slicedToArray(_useState7, 2),\n        btn_disabled = _useState8[0],\n        setBtn_disabled = _useState8[1];\n\n  const _useState9 = useState('#bbb'),\n        _useState10 = _slicedToArray(_useState9, 2),\n        btn_color = _useState10[0],\n        setBtn_color = _useState10[1];\n\n  const on_input = () => {\n    if (email.length >= 5 && senha.length >= 5) {\n      setBtn_disabled(false);\n      setBtn_color('#000');\n    } else {\n      setBtn_disabled(true);\n      setBtn_color('#bbb');\n    }\n  };\n\n  const handleSubmit = ev => {\n    ev.preventDefault();\n    setLoading(true);\n    Auth.signIn(email, senha).then(response => {\n      props.history.push('/');\n    }).catch(error => {\n      console.log('Erro fazendo login: ', error);\n\n      if (error.code === 'UserNotConfirmedException') {\n        props.history.push('/codigo-de-confirmacao', {\n          email\n        });\n      } else {\n        setLoading(false);\n        alert(error.message);\n      }\n    });\n  };\n\n  const renderForm = () => {\n    return React.createElement(PageContainer, {\n      register: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"tela-de-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"logo-principal\",\n      src: logoPlaystars,\n      alt: \"Logo PlayStarts\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      className: \"titulo-logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Acesse sua conta\"), React.createElement(\"form\", {\n      className: \"acesso\",\n      onSubmit: handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"fieldset\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"email\",\n      type: \"email\",\n      name: \"email\",\n      onInput: on_input,\n      required: true,\n      onChange: e => setEmail(e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"label\",\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"E-mail\")), React.createElement(\"fieldset\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"senha\",\n      type: \"password\",\n      name: \"senha\",\n      onInput: on_input,\n      required: true,\n      onChange: e => setSenha(e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"label\",\n      htmlFor: \"senha\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Senha\")), React.createElement(\"input\", {\n      className: \"btnEntrar\",\n      type: \"submit\",\n      disabled: btn_disabled,\n      style: {\n        background: \"\".concat(btn_color)\n      },\n      value: \"Entrar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"esqueci-senha\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/esqueci-senha\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Esqueci minha senha\")), React.createElement(\"div\", {\n      className: \"redes-sociais\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Link, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"facebook-icon\",\n      src: iconFacebook,\n      alt: \"Icone Facebook\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })), React.createElement(Link, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"google-icon\",\n      src: iconGoogle,\n      alt: \"Icone Google plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"sem-conta\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/cadastro\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Ainda n\\xE3o tenho conta\")))));\n  };\n\n  const renderLoading = () => React.createElement(\"div\", {\n    className: \"tela-de-login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(Loader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }));\n\n  const content = loading ? renderLoading() : renderForm();\n  return React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, content);\n}\n\nconst LoginForm = withRouter(Login);\nexport default LoginForm;","map":{"version":3,"sources":["/Users/luciano/Desktop/Projetos/PlayerStars/frontend/src/pages/Login/index.js"],"names":["React","useState","Link","withRouter","Auth","PageContainer","Loader","Login","props","email","setEmail","senha","setSenha","loading","setLoading","btn_disabled","setBtn_disabled","btn_color","setBtn_color","on_input","length","handleSubmit","ev","preventDefault","signIn","then","response","history","push","catch","error","console","log","code","alert","message","renderForm","logoPlaystars","e","target","value","background","iconFacebook","iconGoogle","renderLoading","content","LoginForm"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport {Link, withRouter} from 'react-router-dom';\nimport {Auth} from 'aws-amplify';\nimport PageContainer from \"../../components/features/PageContainer\";\nimport logoPlaystars from '../../assets/images/logo_playerStars.svg';\nimport iconFacebook from '../../assets/icons/facebook.svg';\nimport iconGoogle from '../../assets/icons/google_plus.svg';\nimport './styles.scss';\nimport Loader from '../../components/elements/Loader';\n\n\nfunction Login (props) {\n    \n    const [email, setEmail] = useState('');\n    const [senha, setSenha] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [btn_disabled, setBtn_disabled] = useState(true);\n    const [btn_color, setBtn_color] = useState('#bbb');\n\n    const on_input = () => {             \n        if (email.length >= 5 && senha.length >= 5) {\n            setBtn_disabled(false);                \n            setBtn_color('#000')            \n        } else {                \n            setBtn_disabled(true);                \n            setBtn_color('#bbb')          \n        }                  \n    }\n    \n    const handleSubmit = (ev) => {\n        ev.preventDefault()\n        setLoading(true);\n        Auth.signIn(email, senha)\n          .then(response => {\n            props.history.push('/')\n          })\n          .catch(error => {\n            console.log('Erro fazendo login: ', error)\n            if(error.code === 'UserNotConfirmedException') {\n              props.history.push('/codigo-de-confirmacao', { email });\n            }\n            else {\n                setLoading(false);\n                alert( error.message )\n            }\n          })\n      }\n    \n    const renderForm = () => {  \n    return (\n        <PageContainer register={true}>\n            <section className=\"tela-de-login\">\n                <div className=\"login\">\n                    <img className=\"logo-principal\" src={logoPlaystars} alt=\"Logo PlayStarts\" />\n                    <h2 className=\"titulo-logo\">Acesse sua conta</h2>\n                    <form className=\"acesso\" onSubmit={handleSubmit}>\n                        <fieldset>\n                            <input id=\"email\" \n                                type=\"email\" \n                                name=\"email\"\n                                onInput={on_input} \n                                required \n                                onChange={e => setEmail(e.target.value)}\n                            />\n                            <label className=\"label\" htmlFor=\"email\">E-mail</label>\n                        </fieldset>\n                        <fieldset>\n                            <input id=\"senha\" \n                                type=\"password\" \n                                name=\"senha\" \n                                onInput={on_input} \n                                required \n                                onChange={e => setSenha(e.target.value)}\n                            />\n                            <label className=\"label\" htmlFor=\"senha\">Senha</label>\n                        </fieldset>\n                        <input \n                            className=\"btnEntrar\" \n                            type=\"submit\" \n                            disabled={btn_disabled} \n                            style={{background: `${btn_color}` }} \n                            value=\"Entrar\"\n                        />    \n                    </form>\n                    <div className=\"esqueci-senha\">\n                        <Link to=\"/esqueci-senha\">Esqueci minha senha</Link>\n                    </div>\n                    <div className=\"redes-sociais\">\n                        <Link><img className=\"facebook-icon\" src={iconFacebook} alt=\"Icone Facebook\"></img></Link> \n                        <Link><img className=\"google-icon\" src={iconGoogle} alt=\"Icone Google plus\"></img></Link>\n                    </div>\n                    <div className=\"sem-conta\">\n                        <Link to=\"/cadastro\">Ainda não tenho conta</Link>\n                    </div>\n                </div>\n            </section>\n        </PageContainer>\n    )}\n    \n\n    const renderLoading = () => (\n        <div className=\"tela-de-login\">\n            <Loader />\n        </div>\n    )\n\n    const content = (loading) ? (renderLoading()) : (renderForm())\n    \n    return (\n        <span>\n        {content}\n        </span>\n    )\n}\n\n\nconst LoginForm = withRouter(Login)\n\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}