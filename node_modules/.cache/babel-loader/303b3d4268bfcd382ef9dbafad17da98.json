{"ast":null,"code":"import _slicedToArray from \"/Users/luciano/Desktop/Projetos/PlayerStars/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/luciano/Desktop/Projetos/PlayerStars/frontend/src/pages/Termos/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport config from \"../../config/constants\";\nimport { API } from \"aws-amplify\";\nimport PageContainer from \"../../components/features/PageContainer\";\nimport './styles.scss';\nimport TimelineCadastro from '../../components/features/TimelineCadastro';\n\nfunction Termos(props) {\n  const _useState = useState(true),\n        _useState2 = _slicedToArray(_useState, 2),\n        btn_disabled = _useState2[0],\n        setBtn_disabled = _useState2[1];\n\n  const _useState3 = useState('#BBB'),\n        _useState4 = _slicedToArray(_useState3, 2),\n        btn_color = _useState4[0],\n        setBtn_color = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        redirect = _useState6[0],\n        setRedirect = _useState6[1];\n\n  const _useState7 = useState(\"\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        terms = _useState8[0],\n        setTerms = _useState8[1];\n\n  const on_scroll = s => {\n    const target = s.target;\n    const scrollPos = target.scrollTop;\n\n    if (scrollPos > 700) {\n      setBtn_disabled(false);\n      setBtn_color('#000');\n    }\n  };\n\n  const acceptTerms = () => {\n    const options = {\n      body: {\n        terms: true\n      }\n    };\n    API.post(config.APIS.PLAYERSTARS, '/player/accept-terms', options).then(response => {\n      setRedirect(true);\n    }).catch(error => {\n      console.log('Esse é o retorno das options', options);\n      window.alert('Erro fazendo post dos dados do usuário.');\n    });\n  };\n\n  useEffect(() => {\n    API.get(config.APIS.PLAYERSTARS, \"/terms-and-conditions\", {}).then(response => {\n      console.log(\"get terms bem sucedido :\", response);\n      setTerms(response.data[0].terms);\n    }).catch(error => {\n      console.log(\"get terms falhou: \", error);\n    });\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(PageContainer, {\n    cadastro: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, redirect ? React.createElement(Redirect, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }) : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(\"section\", {\n    className: \"Termos\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(TimelineCadastro, {\n    current: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"containerTermos\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"titleH3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Quase Pronto!\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Leia nossos Termos e Condi\\xE7\\xF5es de Uso para finalizar o Cadastro.\"), React.createElement(\"div\", {\n    className: \"boxTermo\",\n    onScroll: on_scroll,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"boxContent\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: terms\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }))), React.createElement(\"button\", {\n    className: \"criarConta\",\n    type: \"submit\",\n    disabled: btn_disabled,\n    style: {\n      background: \"\".concat(btn_color)\n    },\n    onClick: acceptTerms,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Criar conta\")))));\n}\n\nexport default Termos;","map":{"version":3,"sources":["/Users/luciano/Desktop/Projetos/PlayerStars/frontend/src/pages/Termos/index.js"],"names":["React","useState","useEffect","Redirect","config","API","PageContainer","TimelineCadastro","Termos","props","btn_disabled","setBtn_disabled","btn_color","setBtn_color","redirect","setRedirect","terms","setTerms","on_scroll","s","target","scrollPos","scrollTop","acceptTerms","options","body","post","APIS","PLAYERSTARS","then","response","catch","error","console","log","window","alert","get","data","__html","background"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport config from \"../../config/constants\"\nimport { API } from \"aws-amplify\";\nimport PageContainer from \"../../components/features/PageContainer\";\nimport './styles.scss';\nimport TimelineCadastro from '../../components/features/TimelineCadastro';\n\nfunction Termos (props) {\n\n    const [btn_disabled, setBtn_disabled] = useState(true);\n    const [btn_color, setBtn_color] = useState('#BBB');\n    const [redirect, setRedirect] = useState(false);\n    const [terms, setTerms] = useState(\"\");\n\n    const on_scroll = (s) => {\n        const target = s.target;\n        const scrollPos = target.scrollTop;\n\n        if (scrollPos > 700) {\n            setBtn_disabled(false)\n            setBtn_color('#000')\n        }\n    }\n\n    const acceptTerms = () => {\n        const options = {\n            body:{\n                terms: true\n            }\n        }\n\n        API.post(config.APIS.PLAYERSTARS, '/player/accept-terms', options)\n            .then(response => {\n                setRedirect(true)\n            })\n            .catch(error => {\n                console.log('Esse é o retorno das options', options);\n                window.alert('Erro fazendo post dos dados do usuário.');\n            })\n    };\n\n    useEffect(() => {\n    API.get(config.APIS.PLAYERSTARS, \"/terms-and-conditions\", {})\n        .then((response) => {\n        console.log(\"get terms bem sucedido :\", response);\n        setTerms(response.data[0].terms);\n        })\n        .catch((error) => {\n        console.log(\"get terms falhou: \", error);\n        });\n    }, []);\n\n\n    return (\n        <>\n        <PageContainer cadastro={true}>\n            {redirect ? <Redirect to='/' /> : <div/>}\n            <section className=\"Termos\">\n            <TimelineCadastro current={4} />\n                <div className=\"containerTermos\">\n                    <h3 className=\"titleH3\">Quase Pronto!</h3>\n                    <p >Leia nossos Termos e Condições de Uso para finalizar o Cadastro.</p>\n                    <div className=\"boxTermo\" onScroll={on_scroll}>\n                        <div className=\"boxContent\">\n                            {<div dangerouslySetInnerHTML={{ __html: terms }}></div>}\n                        </div>\n                    </div>\n                    <button\n                        className=\"criarConta\"\n                        type=\"submit\"\n                        disabled={btn_disabled}\n                        style={{ background: `${btn_color}` }}\n                        onClick={acceptTerms}>\n                        Criar conta\n                    </button>\n                </div>\n            </section>\n            </PageContainer>\n        </>\n    )\n    \n}\n\nexport default Termos;"]},"metadata":{},"sourceType":"module"}