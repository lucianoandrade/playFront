{"ast":null,"code":"import _slicedToArray from \"/Users/luciano/Desktop/Projetos/PlayerStars/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/luciano/Desktop/Projetos/PlayerStars/frontend/src/pages/Termos/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport config from \"../../config/constants\";\nimport { API } from \"aws-amplify\";\nimport { useAlert } from 'react-alert';\nimport PageContainer from \"../../components/features/PageContainer\";\nimport TimelineCadastro from '../../components/features/TimelineCadastro';\nimport './styles.scss';\nimport AlertMessage from '../../components/elements/AlertMessage';\n\nfunction Termos(props) {\n  const _useState = useState(true),\n        _useState2 = _slicedToArray(_useState, 2),\n        btn_disabled = _useState2[0],\n        setBtn_disabled = _useState2[1];\n\n  const _useState3 = useState('#BBB'),\n        _useState4 = _slicedToArray(_useState3, 2),\n        btn_color = _useState4[0],\n        setBtn_color = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        redirect = _useState6[0],\n        setRedirect = _useState6[1];\n\n  const _useState7 = useState(true),\n        _useState8 = _slicedToArray(_useState7, 2),\n        scrollBox = _useState8[0],\n        setScrollBox = _useState8[1];\n\n  const _useState9 = useState(\"\"),\n        _useState10 = _slicedToArray(_useState9, 2),\n        terms = _useState10[0],\n        setTerms = _useState10[1];\n\n  const alert = useAlert();\n\n  const on_scroll = s => {\n    const target = s.target;\n\n    if (target.scrollHeight - target.scrollTop === target.clientHeight) {\n      setBtn_disabled(false);\n      setBtn_color('#000');\n      setScrollBox(false);\n    } else if (target.scrollTop < 1000) {\n      setScrollBox(true);\n    }\n  };\n\n  const acceptTerms = () => {\n    const options = {\n      body: {\n        terms: true\n      }\n    };\n    API.post(config.APIS.PLAYERSTARS, '/player/accept-terms', options).then(response => {\n      setRedirect(true);\n    }).catch(error => {\n      console.log('Esse é o retorno das options', options);\n      alert.error(AlertMessage.errorRegister);\n    });\n  };\n\n  useEffect(() => {\n    API.get(config.APIS.PLAYERSTARS, \"/terms-and-conditions\", {}).then(response => {\n      console.log(\"get terms bem sucedido :\", response);\n      setTerms(response.data[0].terms);\n    }).catch(error => {\n      console.log(\"get terms falhou: \", error);\n    });\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(PageContainer, {\n    cadastro: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, redirect ? React.createElement(Redirect, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }) : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(\"section\", {\n    className: \"Termos\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(TimelineCadastro, {\n    current: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"containerTermos\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Quase Pronto!\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Leia nossos Termos e Condi\\xE7\\xF5es de Uso para finalizar o Cadastro.\"), React.createElement(\"div\", {\n    className: \"\".concat(scrollBox ? \"boxTermo\" : \"boxTermoScroll\"),\n    onScroll: on_scroll,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"boxContent\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: terms\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }))), React.createElement(\"button\", {\n    className: \"criarConta\",\n    type: \"submit\",\n    disabled: btn_disabled,\n    style: {\n      background: \"\".concat(btn_color)\n    },\n    onClick: acceptTerms,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Criar conta\")))));\n}\n\nexport default Termos;","map":{"version":3,"sources":["/Users/luciano/Desktop/Projetos/PlayerStars/frontend/src/pages/Termos/index.js"],"names":["React","useState","useEffect","Redirect","config","API","useAlert","PageContainer","TimelineCadastro","AlertMessage","Termos","props","btn_disabled","setBtn_disabled","btn_color","setBtn_color","redirect","setRedirect","scrollBox","setScrollBox","terms","setTerms","alert","on_scroll","s","target","scrollHeight","scrollTop","clientHeight","acceptTerms","options","body","post","APIS","PLAYERSTARS","then","response","catch","error","console","log","errorRegister","get","data","__html","background"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport config from \"../../config/constants\"\nimport { API } from \"aws-amplify\";\nimport { useAlert } from 'react-alert';\nimport PageContainer from \"../../components/features/PageContainer\";\nimport TimelineCadastro from '../../components/features/TimelineCadastro';\n\nimport './styles.scss';\nimport AlertMessage from '../../components/elements/AlertMessage';\n\nfunction Termos (props) {\n\n    const [btn_disabled, setBtn_disabled] = useState(true);\n    const [btn_color, setBtn_color] = useState('#BBB');\n    const [redirect, setRedirect] = useState(false);\n    const [scrollBox, setScrollBox] = useState(true);\n    const [terms, setTerms] = useState(\"\");\n    const alert = useAlert()\n\n    const on_scroll = (s) => {\n        const target = s.target;\n\n        if (target.scrollHeight - target.scrollTop === target.clientHeight) {\n            setBtn_disabled(false)\n            setBtn_color('#000')\n            setScrollBox(false)\n        } else if (target.scrollTop < 1000) {\n            setScrollBox(true)\n        }\n    }\n\n    const acceptTerms = () => {\n        const options = {\n            body:{\n                terms: true\n            }\n        }\n\n        API.post(config.APIS.PLAYERSTARS, '/player/accept-terms', options)\n            .then(response => {\n                setRedirect(true)\n            })\n            .catch(error => {\n                console.log('Esse é o retorno das options', options);\n                alert.error(AlertMessage.errorRegister);\n            })\n    };\n\n    useEffect(() => {\n    API.get(config.APIS.PLAYERSTARS, \"/terms-and-conditions\", {})\n        .then((response) => {\n        console.log(\"get terms bem sucedido :\", response);\n        setTerms(response.data[0].terms);\n        })\n        .catch((error) => {\n        console.log(\"get terms falhou: \", error);\n        });\n    }, []);\n\n\n    return (\n        <>\n        <PageContainer cadastro={true}>\n            {redirect ? <Redirect to='/' /> : <div/>}\n            <section className=\"Termos\">\n            <TimelineCadastro current={4} />\n                <div className=\"containerTermos\">\n                    <h3>Quase Pronto!</h3>\n                    <p >Leia nossos Termos e Condições de Uso para finalizar o Cadastro.</p>\n                    <div className={`${scrollBox ? \"boxTermo\" : \"boxTermoScroll\" }`} onScroll={on_scroll}>\n                        <div className=\"boxContent\">\n                            {<div dangerouslySetInnerHTML={{ __html: terms }}></div>}\n                        </div>\n                    </div>\n                    <button\n                        className=\"criarConta\"\n                        type=\"submit\"\n                        disabled={btn_disabled}\n                        style={{ background: `${btn_color}` }}\n                        onClick={acceptTerms}>\n                        Criar conta\n                    </button>\n                </div>\n            </section>\n            </PageContainer>\n        </>\n    )\n    \n}\n\nexport default Termos;"]},"metadata":{},"sourceType":"module"}