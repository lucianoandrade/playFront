{"ast":null,"code":"import _slicedToArray from \"/Users/luciano/Desktop/Projetos/PlayerStars/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/luciano/Desktop/Projetos/PlayerStars/frontend/src/pages/Login/index.js\";\nimport React, { useState } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { Auth } from \"aws-amplify\";\nimport PageContainer from \"../../components/features/PageContainer\";\nimport iconFacebook from \"../../assets/icons/facebook.svg\";\nimport iconGoogle from \"../../assets/icons/google_plus.svg\";\nimport \"./styles.scss\";\nimport Loader from \"../../components/elements/Loader\";\n\nfunction Login(props) {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        email = _useState2[0],\n        setEmail = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        senha = _useState4[0],\n        setSenha = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        loading = _useState6[0],\n        setLoading = _useState6[1];\n\n  const _useState7 = useState(true),\n        _useState8 = _slicedToArray(_useState7, 2),\n        btn_disabled = _useState8[0],\n        setBtn_disabled = _useState8[1];\n\n  const _useState9 = useState(\"#bbb\"),\n        _useState10 = _slicedToArray(_useState9, 2),\n        btn_color = _useState10[0],\n        setBtn_color = _useState10[1];\n\n  const on_input = () => {\n    if (email.length >= 5 && senha.length >= 5) {\n      setBtn_disabled(false);\n      setBtn_color(\"#000\");\n    } else {\n      setBtn_disabled(true);\n      setBtn_color(\"#bbb\");\n    }\n  };\n\n  const handleSubmit = ev => {\n    ev.preventDefault();\n    setLoading(true);\n    Auth.signIn(email, senha).then(response => {\n      props.history.push(\"/\");\n    }).catch(error => {\n      console.log(\"Erro fazendo login: \", error);\n\n      if (error.code === \"UserNotConfirmedException\") {\n        props.history.push(\"/codigo-de-confirmacao\", {\n          email\n        });\n      } else {\n        setLoading(false);\n        alert(error.message);\n      }\n    });\n  };\n\n  const renderForm = () => {\n    return React.createElement(PageContainer, {\n      register: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"tela-de-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"logo-principal\",\n      src: logoPlaystars,\n      alt: \"Logo PlayStarts\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      className: \"titulo-logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Acesse sua conta\"), React.createElement(\"form\", {\n      className: \"acesso\",\n      onSubmit: handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"fieldset\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"email\",\n      type: \"email\",\n      name: \"email\",\n      onInput: on_input,\n      required: true,\n      onChange: e => setEmail(e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"label\",\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"E-mail\")), React.createElement(\"fieldset\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"senha\",\n      type: \"password\",\n      name: \"senha\",\n      onInput: on_input,\n      required: true,\n      onChange: e => setSenha(e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"label\",\n      htmlFor: \"senha\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Senha\")), React.createElement(\"input\", {\n      className: \"btnEntrar\",\n      type: \"submit\",\n      disabled: btn_disabled,\n      style: {\n        background: \"\".concat(btn_color)\n      },\n      value: \"Entrar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"esqueci-senha\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/esqueci-senha\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Esqueci minha senha\")), React.createElement(\"div\", {\n      className: \"redes-sociais\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Link, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"facebook-icon\",\n      src: iconFacebook,\n      alt: \"Icone Facebook\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), React.createElement(Link, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"google-icon\",\n      src: iconGoogle,\n      alt: \"Icone Google plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"sem-conta\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/cadastro\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Ainda n\\xE3o tenho conta\")))));\n  };\n\n  const renderLoading = () => React.createElement(\"div\", {\n    className: \"tela-de-login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(Loader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }));\n\n  const content = loading ? renderLoading() : renderForm();\n  return React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, content);\n}\n\nconst LoginForm = withRouter(Login);\nexport default LoginForm;","map":{"version":3,"sources":["/Users/luciano/Desktop/Projetos/PlayerStars/frontend/src/pages/Login/index.js"],"names":["React","useState","Link","withRouter","Auth","PageContainer","Loader","Login","props","email","setEmail","senha","setSenha","loading","setLoading","btn_disabled","setBtn_disabled","btn_color","setBtn_color","on_input","length","handleSubmit","ev","preventDefault","signIn","then","response","history","push","catch","error","console","log","code","alert","message","renderForm","logoPlaystars","e","target","value","background","iconFacebook","iconGoogle","renderLoading","content","LoginForm"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { Auth } from \"aws-amplify\";\nimport PageContainer from \"../../components/features/PageContainer\";\nimport iconFacebook from \"../../assets/icons/facebook.svg\";\nimport iconGoogle from \"../../assets/icons/google_plus.svg\";\nimport \"./styles.scss\";\nimport Loader from \"../../components/elements/Loader\";\n\nfunction Login(props) {\n  const [email, setEmail] = useState(\"\");\n  const [senha, setSenha] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [btn_disabled, setBtn_disabled] = useState(true);\n  const [btn_color, setBtn_color] = useState(\"#bbb\");\n\n  const on_input = () => {\n    if (email.length >= 5 && senha.length >= 5) {\n      setBtn_disabled(false);\n      setBtn_color(\"#000\");\n    } else {\n      setBtn_disabled(true);\n      setBtn_color(\"#bbb\");\n    }\n  };\n\n  const handleSubmit = (ev) => {\n    ev.preventDefault();\n    setLoading(true);\n    Auth.signIn(email, senha)\n      .then((response) => {\n        props.history.push(\"/\");\n      })\n      .catch((error) => {\n        console.log(\"Erro fazendo login: \", error);\n        if (error.code === \"UserNotConfirmedException\") {\n          props.history.push(\"/codigo-de-confirmacao\", { email });\n        } else {\n          setLoading(false);\n          alert(error.message);\n        }\n      });\n  };\n\n  const renderForm = () => {\n    return (\n      <PageContainer register={true}>\n        <section className=\"tela-de-login\">\n          <div className=\"login\">\n            <img\n              className=\"logo-principal\"\n              src={logoPlaystars}\n              alt=\"Logo PlayStarts\"\n            />\n            <h2 className=\"titulo-logo\">Acesse sua conta</h2>\n            <form className=\"acesso\" onSubmit={handleSubmit}>\n              <fieldset>\n                <input\n                  id=\"email\"\n                  type=\"email\"\n                  name=\"email\"\n                  onInput={on_input}\n                  required\n                  onChange={(e) => setEmail(e.target.value)}\n                />\n                <label className=\"label\" htmlFor=\"email\">\n                  E-mail\n                </label>\n              </fieldset>\n              <fieldset>\n                <input\n                  id=\"senha\"\n                  type=\"password\"\n                  name=\"senha\"\n                  onInput={on_input}\n                  required\n                  onChange={(e) => setSenha(e.target.value)}\n                />\n                <label className=\"label\" htmlFor=\"senha\">\n                  Senha\n                </label>\n              </fieldset>\n              <input\n                className=\"btnEntrar\"\n                type=\"submit\"\n                disabled={btn_disabled}\n                style={{ background: `${btn_color}` }}\n                value=\"Entrar\"\n              />\n            </form>\n            <div className=\"esqueci-senha\">\n              <Link to=\"/esqueci-senha\">Esqueci minha senha</Link>\n            </div>\n            <div className=\"redes-sociais\">\n              <Link>\n                <img\n                  className=\"facebook-icon\"\n                  src={iconFacebook}\n                  alt=\"Icone Facebook\"\n                ></img>\n              </Link>\n              <Link>\n                <img\n                  className=\"google-icon\"\n                  src={iconGoogle}\n                  alt=\"Icone Google plus\"\n                ></img>\n              </Link>\n            </div>\n            <div className=\"sem-conta\">\n              <Link to=\"/cadastro\">Ainda não tenho conta</Link>\n            </div>\n          </div>\n        </section>\n      </PageContainer>\n    );\n  };\n\n  const renderLoading = () => (\n    <div className=\"tela-de-login\">\n      <Loader />\n    </div>\n  );\n\n  const content = loading ? renderLoading() : renderForm();\n\n  return <span>{content}</span>;\n}\n\nconst LoginForm = withRouter(Login);\n\nexport default LoginForm;\n"]},"metadata":{},"sourceType":"module"}