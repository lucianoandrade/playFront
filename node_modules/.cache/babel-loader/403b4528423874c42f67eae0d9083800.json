{"ast":null,"code":"import _slicedToArray from \"/Users/luciano/Desktop/Projetos/PlayerStars/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/luciano/Desktop/Projetos/PlayerStars/frontend/src/components/Cadastro/InicioDoCadastro/index.js\";\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Auth } from \"aws-amplify\";\nimport { withRouter } from 'react-router-dom';\nimport * as Yup from 'yup';\nimport { withFormik, Form } from 'formik';\nimport FormField from \"../FormField\";\nimport logoPlaystars from \"./../img/logo_final.svg\";\nimport './styles.scss';\nFormField.propTypes = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  type: PropTypes.string\n};\n\nconst _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\nconst _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      senha = _useState4[0],\n      setSenha = _useState4[1];\n\nconst _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      senha2 = _useState6[0],\n      setSenha2 = _useState6[1];\n\nconst _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 2),\n      btn_disabled = _useState8[0],\n      setBtn_disabled = _useState8[1];\n\nconst _useState9 = useState('#BBB'),\n      _useState10 = _slicedToArray(_useState9, 2),\n      btn_color = _useState10[0],\n      setBtn_color = _useState10[1];\n\nconst Signup = props => React.createElement(React.Fragment, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 32\n  },\n  __self: this\n}, React.createElement(\"section\", {\n  className: \"telaCadastro\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 33\n  },\n  __self: this\n}, React.createElement(\"div\", {\n  className: \"cadastro\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 34\n  },\n  __self: this\n}, React.createElement(\"img\", {\n  className: \"logoPrincipal\",\n  src: logoPlaystars,\n  alt: \"Logo PlayStarts\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 35\n  },\n  __self: this\n}), React.createElement(\"h2\", {\n  className: \"tituloLogo\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 36\n  },\n  __self: this\n}, \"Ol\\xE1 Vamos come\\xE7ar seu cadastro?\"), React.createElement(Form, {\n  className: \"dados\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 37\n  },\n  __self: this\n}, React.createElement(\"div\", {\n  className: \"inputInline\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 38\n  },\n  __self: this\n}, React.createElement(FormField, {\n  id: \"email\",\n  name: \"email\",\n  value: email,\n  type: \"text\",\n  label: \"Email\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 39\n  },\n  __self: this\n})), React.createElement(\"div\", {\n  className: \"inputInline\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 41\n  },\n  __self: this\n}, React.createElement(FormField, {\n  id: \"senha\",\n  name: \"senha\",\n  value: senha,\n  type: \"password\",\n  label: \"Senha\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 42\n  },\n  __self: this\n})), React.createElement(\"div\", {\n  className: \"inputInline\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 44\n  },\n  __self: this\n}, React.createElement(FormField, {\n  id: \"senha2\",\n  name: \"senha2\",\n  value: senha2,\n  type: \"password\",\n  label: \"Confirme a senha\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 45\n  },\n  __self: this\n})), React.createElement(\"button\", {\n  className: \"continuar\",\n  type: \"submit\",\n  style: {\n    background: \"\".concat(btn_color)\n  },\n  disabled: (props.isSubmitting, btn_disabled),\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 47\n  },\n  __self: this\n}, \"Continuar\")))));\n\nconst SignupForm = withRouter(withFormik({\n  mapPropsToValues({\n    email,\n    senha,\n    senha2\n  }) {\n    return {\n      email: email || '',\n      senha: senha || '',\n      senha2: senha2 || ''\n    };\n  },\n\n  validationSchema: Yup.object().shape({\n    email: Yup.string().required(\"Campo obrigatório\").email('Email inválido'),\n    senha: Yup.string().required(\"Campo obrigatório\").min(8, \"Mínimo 8 caracteres\"),\n    senha2: Yup.string().required(\"Campo obrigatório\")\n  }),\n\n  handleSubmit({\n    email,\n    senha,\n    senha2\n  }, {\n    props,\n    setFieldError,\n    setSubmitting\n  }) {\n    console.log(props);\n\n    if (senha !== senha2) {\n      setFieldError(\"senha\", \"As senhas digitadas não estão idênticas.\");\n      setFieldError(\"senha2\", \"As senhas digitadas não estão idênticas.\");\n      return;\n    }\n\n    setSubmitting(true);\n    Auth.signUp(email, senha).then(result => {\n      console.log('Resultado do signup: ', result);\n      console.log('funcionou');\n      props.history.push('/codconfirmacao', {\n        email: email\n      });\n      console.log('Minhas props no inicio do cadastro:', props);\n    }).catch(error => {\n      switch (error.code) {\n        case \"UsernameExistsException\":\n          setFieldError(\"email\", \"Email já está em uso.\");\n          break;\n\n        default:\n          console.log('Erro fazendo signup: ', error);\n          window.alert('Erro fazendo signup');\n          break;\n      }\n\n      setSubmitting(false);\n    });\n  }\n\n})(Signup));\nexport default SignupForm;","map":{"version":3,"sources":["/Users/luciano/Desktop/Projetos/PlayerStars/frontend/src/components/Cadastro/InicioDoCadastro/index.js"],"names":["React","useState","PropTypes","Auth","withRouter","Yup","withFormik","Form","FormField","propTypes","id","string","isRequired","name","label","type","email","setEmail","senha","setSenha","senha2","setSenha2","btn_disabled","setBtn_disabled","btn_color","setBtn_color","Signup","props","logoPlaystars","background","isSubmitting","SignupForm","mapPropsToValues","validationSchema","object","shape","required","min","handleSubmit","setFieldError","setSubmitting","console","log","signUp","then","result","history","push","catch","error","code","window","alert"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Auth } from \"aws-amplify\";\nimport { withRouter } from 'react-router-dom';\nimport * as Yup from 'yup';\nimport { withFormik, Form } from 'formik';\n\nimport FormField from \"../FormField\";\n\nimport logoPlaystars from './../img/logo_final.svg';\nimport './styles.scss';\n\n\nFormField.propTypes = {\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    label: PropTypes.string.isRequired,\n    type: PropTypes.string,\n  };\n\n   \n    const [email, setEmail] = useState('');\n    const [senha, setSenha] = useState('');\n    const [senha2, setSenha2] = useState('');\n    const [btn_disabled, setBtn_disabled] = useState(true);\n    const [btn_color, setBtn_color] = useState('#BBB');\n\n\n\nconst Signup = (props) => (\n\n  <React.Fragment>\n      <section className=\"telaCadastro\">\n          <div className=\"cadastro\">\n              <img className=\"logoPrincipal\" src={logoPlaystars} alt=\"Logo PlayStarts\" />\n              <h2 className=\"tituloLogo\">Olá Vamos começar seu cadastro?</h2>           \n              <Form className=\"dados\">\n                  <div className=\"inputInline\">\n                      <FormField id=\"email\" name=\"email\" value={email} type=\"text\" label=\"Email\"/>\n                  </div>\n                  <div className=\"inputInline\">\n                      <FormField id=\"senha\" name=\"senha\" value={senha} type=\"password\" label=\"Senha\"/>\n                  </div>\n                  <div className=\"inputInline\">\n                    <FormField id=\"senha2\" name=\"senha2\" value={senha2} type=\"password\" label=\"Confirme a senha\"/>\n                  </div>                  \n                  <button className=\"continuar\" type=\"submit\" style={{background: `${btn_color}` }}  disabled={props.isSubmitting, btn_disabled}>Continuar</button>\n              </Form>\n          </div>\n      </section>\n  </React.Fragment>   \n)\n\nconst SignupForm = withRouter(withFormik({\n    mapPropsToValues({\n                       email,\n                       senha,\n                       senha2\n                     }) {\n      return {\n        email: email || '',\n        senha: senha || '',\n        senha2: senha2 || ''\n      }\n    },\n    validationSchema: Yup.object().shape({\n      email: Yup.string()\n        .required(\"Campo obrigatório\")\n        .email('Email inválido'),\n      senha: Yup.string()\n        .required(\"Campo obrigatório\")\n        .min(8, \"Mínimo 8 caracteres\"),\n      senha2: Yup.string()\n        .required(\"Campo obrigatório\")\n    }),\n    handleSubmit({ email, senha, senha2 }, { props, setFieldError, setSubmitting }) {\n      console.log(props);\n      if(senha !== senha2) {\n        setFieldError(\"senha\", \"As senhas digitadas não estão idênticas.\");\n        setFieldError(\"senha2\", \"As senhas digitadas não estão idênticas.\");\n        return;\n      } \n      setSubmitting(true);\n  \n      Auth.signUp(email, senha)\n        .then((result) => {\n          console.log('Resultado do signup: ', result)\n          console.log('funcionou')\n          props.history.push('/codconfirmacao', { email: email });\n          console.log('Minhas props no inicio do cadastro:',props)\n        })\n        .catch(error => {\n          switch(error.code) {\n            case \"UsernameExistsException\":\n              setFieldError(\"email\", \"Email já está em uso.\");\n              break;\n            default:\n              console.log('Erro fazendo signup: ', error);\n              window.alert('Erro fazendo signup');\n              break;\n          }\n          setSubmitting(false);\n  \n        });\n    }\n  })(Signup));\n  \n  export default SignupForm;"]},"metadata":{},"sourceType":"module"}