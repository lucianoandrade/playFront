{"ast":null,"code":"var _jsxFileName = \"/Users/luciano/Desktop/Projetos/PlayerStars/frontend/src/pages/Login/index.js\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Auth } from 'aws-amplify';\nimport logoPlaystars from \"../../assets/images/logo_playerStars.svg\";\nimport iconFacebook from \"../../assets/icons/facebook.svg\";\nimport iconGoogle from \"../../assets/icons/google_plus.svg\";\nimport './styles.scss';\nimport Loader from '../../components/elements/Loader';\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: '',\n      senha: '',\n      loading: false,\n      btn_disabled: true,\n      btn_color: '#BBB'\n    };\n  }\n\n  handleChange(ev) {\n    const newState = {\n      [ev.target.name]: ev.target.value\n    };\n    this.setState(newState);\n  }\n\n  on_input(ev) {\n    this.handleChange(ev);\n\n    if (this.state.email.length >= 5 && this.state.senha.length >= 5) {\n      this.setState({\n        btn_disabled: false\n      });\n      this.setState({\n        btn_color: '#000'\n      });\n    } else {\n      this.setState({\n        btn_disabled: true\n      });\n      this.setState({\n        btn_color: '#BBB'\n      });\n    }\n  }\n\n  handleSubmit(ev) {\n    ev.preventDefault();\n    this.setState({\n      loading: true\n    });\n    Auth.signIn(this.state.email, this.state.senha).then(response => {\n      console.log('Login com sucesso. Response: ', response);\n      console.log('Props: ', this.props);\n      this.props.history.push('/');\n    }).catch(error => {\n      console.log('Erro fazendo login: ', error);\n\n      if (error.code === 'UserNotConfirmedException') {\n        this.props.history.push('/codconfirmacao', {\n          email: this.state.email\n        });\n      } else {\n        this.setState({\n          loading: false\n        });\n        alert(error.message);\n      }\n    });\n  }\n\n  renderForm() {\n    return React.createElement(View, {\n      register: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"tela-de-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"logo-principal\",\n      src: logoPlaystars,\n      alt: \"Logo PlayStarts\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      className: \"titulo-logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Acesse sua conta\"), React.createElement(\"form\", {\n      className: \"acesso\",\n      onSubmit: this.handleSubmit.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"fieldset\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"email\",\n      type: \"email\",\n      name: \"email\",\n      onInput: this.on_input.bind(this),\n      required: true,\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"label\",\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"E-mail\")), React.createElement(\"fieldset\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"senha\",\n      type: \"password\",\n      name: \"senha\",\n      onInput: this.on_input.bind(this),\n      required: true,\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"label\",\n      htmlFor: \"senha\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Senha\")), React.createElement(\"input\", {\n      className: \"btnEntrar\",\n      type: \"submit\",\n      disabled: this.state.btn_disabled,\n      style: {\n        background: \"\".concat(this.state.btn_color)\n      },\n      value: \"Entrar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"esqueci-senha\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/esqsenha\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Esqueci minha senha\")), React.createElement(\"div\", {\n      className: \"redes-sociais\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Link, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"facebook-icon\",\n      src: iconFacebook,\n      alt: \"Icone Facebook\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), React.createElement(Link, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"google-icon\",\n      src: iconGoogle,\n      alt: \"Icone Google plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"sem-conta\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/cadastro\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Ainda n\\xE3o tenho conta\")))));\n  }\n\n  renderLoading() {\n    return React.createElement(\"div\", {\n      className: \"tela-de-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }));\n  }\n\n  render() {\n    const content = this.state.loading ? this.renderLoading() : this.renderForm();\n    return React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, content);\n  }\n\n}\n\nconst LoginForm = withRouter(Login);\nexport default LoginForm; // import React, { Component } from 'react'\n// import '../../styles/normalize.scss'\n// import '../../styles/base.scss'\n// import LoginComponet from '../../pages/Login'\n// import View from \"../view/view\"\n// class LoginView extends Component {\n//   render() {\n//     return (\n//       <View register={true}>\n//         <LoginComponet/>\n//       </View>\n//     )\n//   }\n// }\n// export default LoginView","map":{"version":3,"sources":["/Users/luciano/Desktop/Projetos/PlayerStars/frontend/src/pages/Login/index.js"],"names":["React","Component","Link","withRouter","Auth","Loader","Login","state","email","senha","loading","btn_disabled","btn_color","handleChange","ev","newState","target","name","value","setState","on_input","length","handleSubmit","preventDefault","signIn","then","response","console","log","props","history","push","catch","error","code","alert","message","renderForm","logoPlaystars","bind","background","iconFacebook","iconGoogle","renderLoading","render","content","LoginForm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Link, withRouter} from 'react-router-dom';\nimport {Auth} from 'aws-amplify';\nimport logoPlaystars from '../../assets/images/logo_playerStars.svg';\nimport iconFacebook from '../../assets/icons/facebook.svg';\nimport iconGoogle from '../../assets/icons/google_plus.svg';\nimport './styles.scss';\nimport Loader from '../../components/elements/Loader';\n\n\nclass Login extends Component {\n    \n    state = {\n        email: '',\n        senha: '',\n        loading: false,\n        btn_disabled: true,\n        btn_color: '#BBB',\n    };\n     \n    \n    handleChange(ev) {\n        const newState = {[ev.target.name]: ev.target.value}\n        this.setState(newState)\n      }\n\n    on_input (ev) {\n        this.handleChange(ev)              \n        if (this.state.email.length >= 5 && this.state.senha.length >= 5) {\n            this.setState({ btn_disabled: false});                \n            this.setState({ btn_color: '#000'})            \n        } else {                \n            this.setState({ btn_disabled: true})                \n            this.setState({ btn_color: '#BBB'})            \n        }                  \n    }\n    \n      handleSubmit(ev) {\n        ev.preventDefault()\n        this.setState({loading: true})\n        Auth.signIn(this.state.email, this.state.senha)\n          .then(response => {\n            console.log('Login com sucesso. Response: ', response)\n            console.log('Props: ', this.props)\n            this.props.history.push('/')\n          })\n          .catch(error => {\n            console.log('Erro fazendo login: ', error)\n            if(error.code === 'UserNotConfirmedException') {\n              this.props.history.push('/codconfirmacao', { email: this.state.email });\n            }\n            else {\n                this.setState({loading: false})\n                alert( error.message )\n            }\n          })\n      }\n\n    renderForm() {\n        return (\n            <View register={true}>\n                <section className=\"tela-de-login\">\n                    <div className=\"login\">\n                        <img className=\"logo-principal\" src={logoPlaystars} alt=\"Logo PlayStarts\" />\n                        <h2 className=\"titulo-logo\">Acesse sua conta</h2>\n                        <form className=\"acesso\" onSubmit={this.handleSubmit.bind(this)}>\n                            <fieldset>\n                                <input id=\"email\" \n                                    type=\"email\" \n                                    name=\"email\"\n                                    onInput={this.on_input.bind(this)} \n                                    required \n                                    onChange={this.handleChange.bind(this)}\n                                />\n                                <label className=\"label\" htmlFor=\"email\">E-mail</label>\n                            </fieldset>\n                            <fieldset>\n                                <input id=\"senha\" \n                                    type=\"password\" \n                                    name=\"senha\" \n                                    onInput={this.on_input.bind(this)} \n                                    required \n                                    onChange={this.handleChange.bind(this)}\n                                />\n                                <label className=\"label\" htmlFor=\"senha\">Senha</label>\n                            </fieldset>\n                            <input \n                                className=\"btnEntrar\" \n                                type=\"submit\" \n                                disabled={this.state.btn_disabled} \n                                style={{background: `${this.state.btn_color}` }} \n                                value=\"Entrar\"\n                            />    \n                        </form>\n                        <div className=\"esqueci-senha\">\n                            <Link to=\"/esqsenha\">Esqueci minha senha</Link>\n                        </div>\n                        <div className=\"redes-sociais\">\n                            <Link><img className=\"facebook-icon\" src={iconFacebook} alt=\"Icone Facebook\"></img></Link> \n                            <Link><img className=\"google-icon\" src={iconGoogle} alt=\"Icone Google plus\"></img></Link>\n                        </div>\n                        <div className=\"sem-conta\">\n                            <Link to=\"/cadastro\">Ainda não tenho conta</Link>\n                        </div>\n                    </div>\n                </section>\n            </View>\n        )\n    }\n\n    renderLoading() {\n        return (\n        <div className=\"tela-de-login\">\n            <Loader />\n        </div>\n        )\n    }\n\n  render() {\n    const content = (this.state.loading) ? (this.renderLoading()) : (this.renderForm())\n    return (\n        <span>\n        {content}\n        </span>\n    )\n  }\n}\n\nconst LoginForm = withRouter(Login)\n\nexport default LoginForm;\n\n// import React, { Component } from 'react'\n\n// import '../../styles/normalize.scss'\n// import '../../styles/base.scss'\n// import LoginComponet from '../../pages/Login'\n// import View from \"../view/view\"\n\n\n// class LoginView extends Component {\n//   render() {\n//     return (\n//       <View register={true}>\n//         <LoginComponet/>\n//       </View>\n//     )\n//   }\n// }\n\n// export default LoginView"]},"metadata":{},"sourceType":"module"}