{"ast":null,"code":"import _slicedToArray from \"/Users/luciano/Desktop/Projetos/PlayerStars/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/luciano/Desktop/Projetos/PlayerStars/frontend/src/pages/HistoricoDuelos/index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { API } from \"aws-amplify\";\nimport config from \"../../config/constants\";\nimport PageContainer from \"../../components/features/PageContainer\";\nimport Card from \"./Card/index\";\nimport Loader from \"../../components/elements/Loader\";\nimport Select from \"../../components/elements/Select\";\nimport \"./styles.scss\";\n\nfunction ComponentHistoricoDuelos() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        historico = _useState2[0],\n        setHistorico = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        statusSelected = _useState4[0],\n        setStatusSelected = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        historicoInitial = _useState6[0],\n        setHistoricoInitial = _useState6[1];\n\n  const _useState7 = useState(true),\n        _useState8 = _slicedToArray(_useState7, 2),\n        loading = _useState8[0],\n        setLoading = _useState8[1];\n\n  useEffect(() => {\n    getHistory(); // eslint-disable-next-line\n  }, []);\n\n  const getHistory = () => {\n    API.get(config.APIS.PLAYERSTARS, \"/duel/get-my-duels/FINISHED_BY_VICTORY-FINISHED_BY_RESIGN-FINISHED_BY_TIE-UNDER_REVIEW-DUELING\").then(response => {\n      console.log(\"ESSE É O RESPONSE DO HISTORY: \", response.data);\n      setHistorico(response.data);\n      setHistoricoInitial(response.data);\n      setLoading(false);\n    }).catch(error => {\n      console.log(\"ERRO NO GET: \", error);\n      setHistorico([]);\n      setLoading(false);\n    });\n  };\n\n  let options = [{\n    label: \"Todos\",\n    value: \"all\"\n  }, {\n    label: \"Finalizados\",\n    value: \"\".concat('FINISHED_BY_VICTORY' || 'FINISHED_BY_TIE')\n  }, {\n    label: \"Em aberto\",\n    value: \"UNDER_REVIEW\"\n  }];\n\n  const changeStatus = e => {\n    setStatusSelected(e.label);\n    setHistorico(historicoInitial.filter(item => {\n      switch (e.value) {\n        case \"FINISHED_Y_VICTORY\":\n          return item.status === \"FINISHED_BY_VICTORY\";\n\n        case \"FINISHED_BY_TIE\":\n          return item.status === \"FINISHED_BY_TIE\";\n\n        case \"UNDER_REVIEW\":\n          return item.status === \"UNDER_REVIEW\";\n\n        default:\n          return item;\n      }\n    }));\n  };\n\n  return React.createElement(PageContainer, {\n    public: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, loading ? React.createElement(Loader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }) : React.createElement(\"section\", {\n    className: \"containerHistorico\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"titleHistorico\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"MEUS DUELOS\"), React.createElement(\"div\", {\n    className: \"containerFilter\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"containerSelects\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"containerSelect\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(Select, {\n    onChange: changeStatus,\n    width: \"150px\",\n    placeholder: statusSelected ? statusSelected : \"Todos\",\n    options: options,\n    classNames: \"select-class\",\n    name: \"statusDuel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  })))), historico.find(item => item.status === \"FINISHED_BY_VICTORY\" || \"UNDER_REVIEW\" || \"FINISHED_BY_TIE\") ? historico.map((item, index) => React.createElement(Card, {\n    key: index,\n    imageGame: item.gameImage,\n    nomeGame: item.gameName,\n    platform: item.consoleName,\n    matchType: item.matchType,\n    matchTitle: item.matchTitle,\n    date: item.start_date_time,\n    duration: item.durationMax,\n    bet: item.bet,\n    premium: item.reward,\n    members: item.members,\n    ranking: item.ranking,\n    match: item.match,\n    starType: item.star_type,\n    winner: item.winner,\n    opponentName: item.opponent_name,\n    opponentType: item.opponent_type,\n    status: item.status,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  })) : React.createElement(\"div\", {\n    className: \"descriptionDuels\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, statusSelected === \"Em aberto\" ? React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \"Voc\\xEA n\\xE3o possui duelos em aberto.\") : React.createElement(React.Fragment, null, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"Voc\\xEA ainda n\\xE3o duelou!\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"Depois que enfrentar oponentes no app, os duelos dos quais tiver participado aparecer\\xE3o aqui.\")))));\n}\n\nexport default ComponentHistoricoDuelos;","map":{"version":3,"sources":["/Users/luciano/Desktop/Projetos/PlayerStars/frontend/src/pages/HistoricoDuelos/index.js"],"names":["React","useEffect","useState","API","config","PageContainer","Card","Loader","Select","ComponentHistoricoDuelos","historico","setHistorico","statusSelected","setStatusSelected","historicoInitial","setHistoricoInitial","loading","setLoading","getHistory","get","APIS","PLAYERSTARS","then","response","console","log","data","catch","error","options","label","value","changeStatus","e","filter","item","status","find","map","index","gameImage","gameName","consoleName","matchType","matchTitle","start_date_time","durationMax","bet","reward","members","ranking","match","star_type","winner","opponent_name","opponent_type"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { API } from \"aws-amplify\";\nimport config from \"../../config/constants\";\nimport PageContainer from \"../../components/features/PageContainer\";\nimport Card from \"./Card/index\";\nimport Loader from \"../../components/elements/Loader\";\nimport Select from \"../../components/elements/Select\";\n\nimport \"./styles.scss\";\n\nfunction ComponentHistoricoDuelos() {\n  const [historico, setHistorico] = useState([]);\n  const [statusSelected, setStatusSelected] = useState(\"\");\n  const [historicoInitial, setHistoricoInitial] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    getHistory();\n    // eslint-disable-next-line\n  }, []);\n\n  const getHistory = () => {\n    API.get(config.APIS.PLAYERSTARS, \"/duel/get-my-duels/FINISHED_BY_VICTORY-FINISHED_BY_RESIGN-FINISHED_BY_TIE-UNDER_REVIEW-DUELING\")\n      .then((response) => {\n        console.log(\"ESSE É O RESPONSE DO HISTORY: \", response.data);\n        setHistorico(response.data);\n        setHistoricoInitial(response.data);\n        setLoading(false)\n      })\n      .catch((error) => {\n        console.log(\"ERRO NO GET: \", error);\n        setHistorico([]);\n        setLoading(false)\n      });\n  };\n\n  let options = [\n    { label: \"Todos\", value: \"all\" },\n    { label: \"Finalizados\", value: `${'FINISHED_BY_VICTORY' ||'FINISHED_BY_TIE' }`},\n    { label: \"Em aberto\", value: \"UNDER_REVIEW\" },\n  ];\n\n  const changeStatus = (e) => {\n    setStatusSelected(e.label);\n    setHistorico(\n      historicoInitial.filter((item) => {\n        switch (e.value) {\n          case \"FINISHED_Y_VICTORY\": \n            return item.status === \"FINISHED_BY_VICTORY\";\n          case \"FINISHED_BY_TIE\":\n            return item.status === \"FINISHED_BY_TIE\";\n          case \"UNDER_REVIEW\":\n            return item.status === \"UNDER_REVIEW\";\n          default:\n          return item;\n        }\n      })\n    );\n  };\n\n  return (\n    <PageContainer public={false}>\n      {loading ? <Loader/> :\n        <section className=\"containerHistorico\">\n          <h1 className=\"titleHistorico\">MEUS DUELOS</h1>\n          <div className=\"containerFilter\">\n            <div className=\"containerSelects\">\n              <div className=\"containerSelect\">\n                <Select\n                  onChange={changeStatus}\n                  width={\"150px\"}\n                  placeholder={statusSelected ? statusSelected : \"Todos\"}\n                  options={options}\n                  classNames={\"select-class\"}\n                  name=\"statusDuel\"\n                />\n              </div>\n            </div>\n          </div>\n          {historico.find(item => item.status === \"FINISHED_BY_VICTORY\" || \"UNDER_REVIEW\" || \"FINISHED_BY_TIE\") ? (\n            historico.map((item, index) => (\n              <Card\n                key={index}\n                imageGame={item.gameImage}\n                nomeGame={item.gameName}\n                platform={item.consoleName}\n                matchType={item.matchType}\n                matchTitle={item.matchTitle}\n                date={item.start_date_time}\n                duration={item.durationMax}\n                bet={item.bet}\n                premium={item.reward}\n                members={item.members}\n                ranking={item.ranking}\n                match={item.match}\n                starType={item.star_type}\n                winner={item.winner}\n                opponentName={item.opponent_name}\n                opponentType={item.opponent_type}\n                status={item.status}\n              />\n            ))\n          ) : (\n            <div className=\"descriptionDuels\">\n              {\n                statusSelected === \"Em aberto\" ?\n                <p>Você não possui duelos em aberto.</p> \n                :\n                <>\n                <p>Você ainda não duelou!</p><br/>\n                <p>Depois que enfrentar oponentes no app, os\n                duelos dos quais tiver participado aparecerão aqui.</p>\n                </>\n              }\n            </div>\n          )}\n        </section>\n      }\n    </PageContainer>\n  );\n}\n\nexport default ComponentHistoricoDuelos;\n"]},"metadata":{},"sourceType":"module"}