{"ast":null,"code":"import _slicedToArray from \"/Users/luciano/Desktop/Projetos/PlayerStars/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/luciano/Desktop/Projetos/PlayerStars/frontend/src/pages/PerfilUsuario/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport { API } from \"aws-amplify\";\nimport moment from 'moment';\nimport config from '../../config/constants';\nimport PageContainer from \"../../components/features/PageContainer\";\nimport Loader from '../../components/elements/Loader';\nimport starRed from '../../assets/images/star-red-color.png';\nimport starGold from '../../assets/images/star-gold-color.png';\nimport editar from '../../assets/images/editar-perfil-profile.png';\nimport './styles.scss';\n\nfunction RenderLoading() {\n  return React.createElement(\"div\", {\n    className: \"Loading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, React.createElement(Loader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }));\n}\n\nfunction PerfilUsuario() {\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        user = _useState2[0],\n        setUser = _useState2[1];\n\n  const _useState3 = useState({}),\n        _useState4 = _slicedToArray(_useState3, 2),\n        player = _useState4[0],\n        setPlayer = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        consoles = _useState6[0],\n        setConsoles = _useState6[1];\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        redirect = _useState8[0],\n        setRedirect = _useState8[1];\n\n  const _useState9 = useState(true),\n        _useState10 = _slicedToArray(_useState9, 2),\n        isLoading = _useState10[0],\n        setIsLoading = _useState10[1];\n\n  useEffect(() => {\n    getDadosProfile();\n  }, []);\n\n  const getDadosProfile = () => {\n    API.get(config.APIS.PLAYERSTARS, '/player/get-my-profile').then(response => {\n      console.log(\"RESULTADO DO GET: \", response.data);\n      setUser(response.data.player.user);\n      setPlayer(response.data.player);\n      setConsoles(response.data.consoles);\n      setIsLoading(false);\n    }).catch(error => {\n      console.log(\"ERRO NO GET: \", error);\n    });\n  };\n\n  if (isLoading) {\n    return React.createElement(RenderLoading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    });\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(PageContainer, {\n    public: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, redirect ? React.createElement(Redirect, {\n    to: \"/editar-perfil\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }) : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), console.log(\"::::REDIRECT::\", redirect), React.createElement(\"section\", {\n    className: \"containerProfile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"containerDadosUser\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"headerDadosUser\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"containerAvatarUser\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"containerAvatar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"avatar\",\n    style: {\n      backgroundImage: \"url(\".concat(user.profile_image, \"?\").concat(Date.now(), \")\")\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"contentUser\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"nickname\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, user.nickname), React.createElement(\"span\", {\n    className: \"emailUser\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, user.email))), React.createElement(\"div\", {\n    className: \"containerIconEditProfile\",\n    onClick: () => setRedirect(true),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"iconEdit\",\n    src: editar,\n    alt: \"Editar perfil\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"editProfile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Editar\"))), React.createElement(\"div\", {\n    className: \"containerConquests\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"contentConquest\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"iconConquest\",\n    src: starGold,\n    alt: \"StarGold\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"descriptionConquest\",\n    alt: \"StarRed\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Gold Star \\xB7 \", player.golden_star_balance)), React.createElement(\"div\", {\n    className: \"contentConquest\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"iconConquest\",\n    src: starRed,\n    alt: \"StarRed\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"descriptionConquest\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"Red Star \\xB7 \", player.red_star_balance))), React.createElement(\"div\", {\n    className: \"containerDadosAddress\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"contentDados\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"titleDadosAddress\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"Dados pessoais\"), React.createElement(\"p\", {\n    className: \"descriptionDados\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, user.name), React.createElement(\"div\", {\n    className: \"containerNasCpfTel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"contentNasCpfTel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"titleNasCpfTel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"Nascimento\"), React.createElement(\"span\", {\n    className: \"descriptionNasCpfTel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, moment(user.date_birth).format('DD/MM/YYYY'))), React.createElement(\"div\", {\n    className: \"contentNasCpfTel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"titleNasCpfTel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, \"CPF\"), React.createElement(\"span\", {\n    className: \"descriptionNasCpfTel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, user.cpf)))))), React.createElement(\"div\", {\n    className: \"border\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"containerPlatform\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    className: \"titlePlatform\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"Minhas Plataformas\"), React.createElement(\"div\", {\n    className: \"containerIconEditConsole\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"iconEdit\",\n    src: editar,\n    alt: \"Editar console\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }), React.createElement(Link, {\n    to: \"/editar-consoles\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"editConsole\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"Editar\"))), React.createElement(\"div\", {\n    className: \"consoleName\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, consoles.map((item, index) => React.createElement(\"div\", {\n    key: index,\n    className: \"consoleTagname\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, item.name, \" \\xB7 \", item.tag_name)))))));\n}\n\nexport default PerfilUsuario;","map":{"version":3,"sources":["/Users/luciano/Desktop/Projetos/PlayerStars/frontend/src/pages/PerfilUsuario/index.js"],"names":["React","useState","useEffect","Redirect","Link","API","moment","config","PageContainer","Loader","starRed","starGold","editar","RenderLoading","PerfilUsuario","user","setUser","player","setPlayer","consoles","setConsoles","redirect","setRedirect","isLoading","setIsLoading","getDadosProfile","get","APIS","PLAYERSTARS","then","response","console","log","data","catch","error","backgroundImage","profile_image","Date","now","nickname","email","golden_star_balance","red_star_balance","name","date_birth","format","cpf","map","item","index","tag_name"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,QAAT,EAAmBC,IAAnB,QAA+B,kBAA/B;AACA,SAASC,GAAT,QAAoB,aAApB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,aAAP,MAA0B,yCAA1B;AACA,OAAOC,MAAP,MAAmB,kCAAnB;AAEA,OAAOC,OAAP,MAAoB,wCAApB;AACA,OAAOC,QAAP,MAAqB,yCAArB;AACA,OAAOC,MAAP,MAAmB,+CAAnB;AAEA,OAAO,eAAP;;AAEA,SAASC,aAAT,GAAyB;AACrB,SACI;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAKH;;AAED,SAASC,aAAT,GAA0B;AAAA,oBAEEb,QAAQ,CAAC,EAAD,CAFV;AAAA;AAAA,QAEfc,IAFe;AAAA,QAETC,OAFS;;AAAA,qBAGMf,QAAQ,CAAC,EAAD,CAHd;AAAA;AAAA,QAGfgB,MAHe;AAAA,QAGPC,SAHO;;AAAA,qBAIUjB,QAAQ,CAAC,EAAD,CAJlB;AAAA;AAAA,QAIfkB,QAJe;AAAA,QAILC,WAJK;;AAAA,qBAKUnB,QAAQ,CAAC,KAAD,CALlB;AAAA;AAAA,QAKfoB,QALe;AAAA,QAKLC,WALK;;AAAA,qBAMYrB,QAAQ,CAAC,IAAD,CANpB;AAAA;AAAA,QAMfsB,SANe;AAAA,QAMJC,YANI;;AAStBtB,EAAAA,SAAS,CAAC,MAAM;AACZuB,IAAAA,eAAe;AAClB,GAFQ,EAEP,EAFO,CAAT;;AAID,QAAMA,eAAe,GAAG,MAAM;AACzBpB,IAAAA,GAAG,CAACqB,GAAJ,CAAQnB,MAAM,CAACoB,IAAP,CAAYC,WAApB,EAAiC,wBAAjC,EACKC,IADL,CACUC,QAAQ,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCF,QAAQ,CAACG,IAA3C;AACAjB,MAAAA,OAAO,CAACc,QAAQ,CAACG,IAAT,CAAchB,MAAd,CAAqBF,IAAtB,CAAP;AACAG,MAAAA,SAAS,CAACY,QAAQ,CAACG,IAAT,CAAchB,MAAf,CAAT;AACAG,MAAAA,WAAW,CAACU,QAAQ,CAACG,IAAT,CAAcd,QAAf,CAAX;AACAK,MAAAA,YAAY,CAAC,KAAD,CAAZ;AAEH,KARL,EASKU,KATL,CASWC,KAAK,IAAI;AACZJ,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BG,KAA7B;AACH,KAXL;AAYH,GAbF;;AAgBC,MAAIZ,SAAJ,EAAe;AACX,WAAO,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH;;AAED,SACI,0CACI,oBAAC,aAAD;AAAe,IAAA,MAAM,EAAE,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAECF,QAAQ,GAAG,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,GAAsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAF/C,EAGCU,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BX,QAA9B,CAHD,EAIA;AAAS,IAAA,SAAS,EAAC,kBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAwB,IAAA,KAAK,EAAE;AAAEe,MAAAA,eAAe,gBAASrB,IAAI,CAACsB,aAAd,cAA+BC,IAAI,CAACC,GAAL,EAA/B;AAAjB,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,EAKI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0BxB,IAAI,CAACyB,QAA/B,CADJ,EAEI;AAAM,IAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6BzB,IAAI,CAAC0B,KAAlC,CAFJ,CALJ,CADJ,EAWI;AAAK,IAAA,SAAS,EAAC,0BAAf;AAA0C,IAAA,OAAO,EAAE,MAAMnB,WAAW,CAAC,IAAD,CAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAA0B,IAAA,GAAG,EAAEV,MAA/B;AAAuC,IAAA,GAAG,EAAC,eAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,CAXJ,CADJ,EAiBI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAA8B,IAAA,GAAG,EAAED,QAAnC;AAA6C,IAAA,GAAG,EAAC,UAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,SAAS,EAAC,qBAAhB;AAAsC,IAAA,GAAG,EAAC,SAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAiEM,MAAM,CAACyB,mBAAxE,CAFJ,CADJ,EAKI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAA8B,IAAA,GAAG,EAAEhC,OAAnC;AAA4C,IAAA,GAAG,EAAC,SAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,SAAS,EAAC,qBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAkDO,MAAM,CAAC0B,gBAAzD,CAFJ,CALJ,CAjBJ,EA4BI;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI;AAAG,IAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiC5B,IAAI,CAAC6B,IAAtC,CAFJ,EAGI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,SAAS,EAAC,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEI;AAAM,IAAA,SAAS,EAAC,sBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwCtC,MAAM,CAACS,IAAI,CAAC8B,UAAN,CAAN,CAAwBC,MAAxB,CAA+B,YAA/B,CAAxC,CAFJ,CADJ,EAKI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,SAAS,EAAC,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ,EAEI;AAAM,IAAA,SAAS,EAAC,sBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwC/B,IAAI,CAACgC,GAA7C,CAFJ,CALJ,CAHJ,CADJ,CA5BJ,CADJ,EA8CI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9CJ,EA+CI;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,EAEI;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAA0B,IAAA,GAAG,EAAEnC,MAA/B;AAAuC,IAAA,GAAG,EAAC,gBAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,kBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4B;AAAM,IAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA5B,CAFJ,CAFJ,EAMI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKO,QAAQ,CAAC6B,GAAT,CAAa,CAACC,IAAD,EAAOC,KAAP,KAAkB;AAAK,IAAA,GAAG,EAAEA,KAAV;AAAiB,IAAA,SAAS,EAAC,gBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6CD,IAAI,CAACL,IAAlD,YAA2DK,IAAI,CAACE,QAAhE,CAA/B,CADL,CANJ,CA/CJ,CAJA,CADJ,CADJ;AAoEH;;AAED,eAAerC,aAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport { API } from \"aws-amplify\";\nimport moment from 'moment';\nimport config from '../../config/constants';\nimport PageContainer from \"../../components/features/PageContainer\";\nimport Loader from '../../components/elements/Loader';\n\nimport starRed from '../../assets/images/star-red-color.png';\nimport starGold from '../../assets/images/star-gold-color.png';\nimport editar from '../../assets/images/editar-perfil-profile.png';\n\nimport './styles.scss';\n\nfunction RenderLoading() {\n    return (\n        <div className=\"Loading\">\n            <Loader />\n        </div>\n    )\n}\n\nfunction PerfilUsuario () {\n    \n    const [user, setUser] = useState({});\n    const [player, setPlayer] = useState({});\n    const [consoles, setConsoles] = useState([]);\n    const [redirect, setRedirect] = useState(false);\n    const [isLoading, setIsLoading] = useState(true);\n\n\n    useEffect(() => {\n        getDadosProfile()\n    },[])\n\n   const getDadosProfile = () => {\n        API.get(config.APIS.PLAYERSTARS, '/player/get-my-profile')\n            .then(response => {\n                console.log(\"RESULTADO DO GET: \", response.data);\n                setUser(response.data.player.user);\n                setPlayer(response.data.player);\n                setConsoles(response.data.consoles);\n                setIsLoading(false);\n    \n            })\n            .catch(error => {\n                console.log(\"ERRO NO GET: \", error)\n            })\n    }\n\n\n    if (isLoading) {\n        return <RenderLoading />\n    }\n\n    return (\n        <>\n            <PageContainer public={false}>\n\n            {redirect ? <Redirect to='/editar-perfil' /> : <div></div>}\n            {console.log(\"::::REDIRECT::\", redirect)}\n            <section className=\"containerProfile\">\n                <div className=\"containerDadosUser\">\n                    <div className=\"headerDadosUser\">\n                        <div className=\"containerAvatarUser\">\n                            <div className=\"containerAvatar\">\n                                <div className=\"avatar\" style={{ backgroundImage: `url(${user.profile_image}?${Date.now()})` }}></div>\n                            </div>\n\n                            <div className=\"contentUser\">\n                                <h3 className=\"nickname\">{user.nickname}</h3>\n                                <span className=\"emailUser\">{user.email}</span>\n                            </div>\n                        </div>\n                        <div className=\"containerIconEditProfile\" onClick={() => setRedirect(true)} >\n                            <img className=\"iconEdit\" src={editar} alt=\"Editar perfil\" />\n                            <span className=\"editProfile\">Editar</span>\n                        </div>\n                    </div>\n                    <div className=\"containerConquests\">\n                        <div className=\"contentConquest\">\n                            <img className=\"iconConquest\" src={starGold} alt=\"StarGold\" />\n                            <span className=\"descriptionConquest\" alt=\"StarRed\">Gold Star · {player.golden_star_balance}</span>\n                        </div>\n                        <div className=\"contentConquest\">\n                            <img className=\"iconConquest\" src={starRed} alt=\"StarRed\" />\n                            <span className=\"descriptionConquest\">Red Star · {player.red_star_balance}</span>\n                        </div>\n                    </div>\n\n                    <div className=\"containerDadosAddress\">\n                        <div className=\"contentDados\">\n                            <h3 className=\"titleDadosAddress\">Dados pessoais</h3>\n                            <p className=\"descriptionDados\">{user.name}</p>\n                            <div className=\"containerNasCpfTel\">\n                                <div className=\"contentNasCpfTel\">\n                                    <span className=\"titleNasCpfTel\">Nascimento</span>\n                                    <span className=\"descriptionNasCpfTel\">{moment(user.date_birth).format('DD/MM/YYYY')}</span>\n                                </div>\n                                <div className=\"contentNasCpfTel\">\n                                    <span className=\"titleNasCpfTel\">CPF</span>\n                                    <span className=\"descriptionNasCpfTel\">{user.cpf}</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"border\"></div>\n                <div className=\"containerPlatform\">\n                    <h2 className=\"titlePlatform\">Minhas Plataformas</h2>\n                    <div className=\"containerIconEditConsole\">\n                        <img className=\"iconEdit\" src={editar} alt=\"Editar console\" />\n                        <Link to=\"/editar-consoles\"><span className=\"editConsole\">Editar</span></Link>\n                    </div>\n                    <div className=\"consoleName\">\n                        {consoles.map((item, index) => (<div key={index} className=\"consoleTagname\">{item.name} · {item.tag_name}</div>))}                           \n                    </div>\n                </div>\n            </section>\n            </PageContainer>\n        </>\n    )\n    \n}\n\nexport default PerfilUsuario;"]},"metadata":{},"sourceType":"module"}