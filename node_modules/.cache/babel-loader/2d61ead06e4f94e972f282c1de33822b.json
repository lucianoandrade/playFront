{"ast":null,"code":"import _slicedToArray from \"/Users/luciano/Desktop/Projetos/PlayerStars/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/luciano/Desktop/Projetos/PlayerStars/frontend/src/components/Cadastro/InicioDoCadastro/index.js\";\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Auth } from \"aws-amplify\";\nimport { withRouter } from 'react-router-dom';\nimport * as Yup from 'yup';\nimport { withFormik, Form } from 'formik';\nimport FormField from \"../FormField\";\nimport logoPlaystars from \"./../img/logo_final.svg\";\nimport './styles.scss';\nFormField.propTypes = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  type: PropTypes.string\n};\n\nconst Signup = props => {\n  const _useState = useState(true),\n        _useState2 = _slicedToArray(_useState, 2),\n        btn_disabled = _useState2[0],\n        setBtn_disabled = _useState2[1];\n\n  const _useState3 = useState('#BBB'),\n        _useState4 = _slicedToArray(_useState3, 2),\n        btn_color = _useState4[0],\n        setBtn_color = _useState4[1]; // const [email, setEmail] = useState('');\n  // const [senha, setSenha] = useState('');\n  // const [senha2, setSenha2] = useState('')\n\n\n  const _useState5 = useState([{\n    email: '\u001c'\n  }, {\n    senha: ''\n  }, {\n    senha2: ''\n  }]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        entrada = _useState6[0],\n        setEntrada = _useState6[1]; // function habChange(i) {\n  //   const target = i.target;\n  //   const newState = target.value.length;\n  //   setEntrada(newState);\n  // }\n  // function habChange(i) {\n  //   const target = i.target;\n  //   const newState = target.value.length;\n  //   setEmail(newState);\n  //   setSenha(newState);\n  //   setSenha2(newState)\n  // }\n\n\n  function on_input(i) {\n    const target = i.target;\n    const newState = target.value.length;\n    setEntrada(newState);\n\n    if (entrada.email >= 5 && entrada.senha >= 5 && entrada.senha2 >= 5) {\n      return setBtn_disabled('#000'), setBtn_color(false);\n    }\n  }\n\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    className: \"telaCadastro\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"cadastro\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"logoPrincipal\",\n    src: logoPlaystars,\n    alt: \"Logo PlayStarts\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(\"h2\", {\n    className: \"tituloLogo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Ol\\xE1 Vamos come\\xE7ar seu cadastro?\"), React.createElement(Form, {\n    className: \"dados\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"inputInline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(FormField, {\n    id: \"email\",\n    name: \"email\",\n    onInput: on_input.bind(this),\n    onChange: habChange.bind(this),\n    type: \"text\",\n    label: \"Email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"inputInline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(FormField, {\n    id: \"senha\",\n    name: \"senha\",\n    onInput: on_input.bind(this),\n    onChange: habChange.bind(this),\n    type: \"password\",\n    label: \"Senha\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"inputInline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(FormField, {\n    id: \"senha2\",\n    name: \"senha2\",\n    type: \"password\",\n    onInput: on_input.bind(this),\n    onChange: habChange.bind(this),\n    label: \"Confirme a senha\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"continuar\",\n    style: {\n      background: \"\".concat(btn_color)\n    },\n    type: \"submit\",\n    disabled: btn_disabled // onSubmit={props.isSubmitting}\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Continuar\")))));\n};\n\nconsole.log();\nconst SignupForm = withRouter(withFormik({\n  mapPropsToValues({\n    email,\n    senha,\n    senha2\n  }) {\n    return {\n      email: email || '',\n      senha: senha || '',\n      senha2: senha2 || ''\n    };\n  },\n\n  validationSchema: Yup.object().shape({\n    email: Yup.string().required(\"Campo obrigatório\").email('Email inválido'),\n    senha: Yup.string().required(\"Campo obrigatório\").min(8, \"Mínimo 8 caracteres\"),\n    senha2: Yup.string().required(\"Campo obrigatório\")\n  }),\n\n  handleSubmit({\n    email,\n    senha,\n    senha2\n  }, {\n    props,\n    setFieldError,\n    setSubmitting\n  }) {\n    console.log(props);\n\n    if (senha !== senha2) {\n      setFieldError(\"senha\", \"As senhas digitadas não estão idênticas.\");\n      setFieldError(\"senha2\", \"As senhas digitadas não estão idênticas.\");\n      return;\n    }\n\n    setSubmitting(true);\n    Auth.signUp(email, senha).then(result => {\n      console.log('Resultado do signup: ', result);\n      console.log('funcionou');\n      props.history.push('/codconfirmacao', {\n        email: email\n      });\n      console.log('Minhas props no inicio do cadastro:', props);\n    }).catch(error => {\n      switch (error.code) {\n        case \"UsernameExistsException\":\n          setFieldError(\"email\", \"Email já está em uso.\");\n          break;\n\n        default:\n          console.log('Erro fazendo signup: ', error);\n          window.alert('Erro fazendo signup');\n          break;\n      }\n\n      setSubmitting(false);\n    });\n  }\n\n})(Signup));\nexport default SignupForm;","map":{"version":3,"sources":["/Users/luciano/Desktop/Projetos/PlayerStars/frontend/src/components/Cadastro/InicioDoCadastro/index.js"],"names":["React","useState","PropTypes","Auth","withRouter","Yup","withFormik","Form","FormField","propTypes","id","string","isRequired","name","label","type","Signup","props","btn_disabled","setBtn_disabled","btn_color","setBtn_color","email","senha","senha2","entrada","setEntrada","on_input","i","target","newState","value","length","logoPlaystars","bind","habChange","background","console","log","SignupForm","mapPropsToValues","validationSchema","object","shape","required","min","handleSubmit","setFieldError","setSubmitting","signUp","then","result","history","push","catch","error","code","window","alert"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Auth } from \"aws-amplify\";\nimport { withRouter } from 'react-router-dom';\nimport * as Yup from 'yup';\nimport { withFormik, Form } from 'formik';\n\nimport FormField from \"../FormField\";\n\nimport logoPlaystars from './../img/logo_final.svg';\nimport './styles.scss';\n\nFormField.propTypes = {\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    label: PropTypes.string.isRequired,\n    type: PropTypes.string,\n  };\n\nconst Signup = (props) => {\n  \n  const [btn_disabled, setBtn_disabled] = useState(true);\n  const [btn_color, setBtn_color] = useState('#BBB');\n\n  // const [email, setEmail] = useState('');\n  // const [senha, setSenha] = useState('');\n  // const [senha2, setSenha2] = useState('')\n  \n  const [entrada, setEntrada] = useState ([{email: '\u001c'},{senha: ''},{senha2: ''}]);\n\n  // function habChange(i) {\n  //   const target = i.target;\n  //   const newState = target.value.length;\n  //   setEntrada(newState);\n  // }\n\n  // function habChange(i) {\n  //   const target = i.target;\n  //   const newState = target.value.length;\n  //   setEmail(newState);\n  //   setSenha(newState);\n  //   setSenha2(newState)\n  // }\n  \n  function on_input (i) {\n    const target = i.target;\n    const newState = target.value.length\n    setEntrada(newState)   \n    if (entrada.email >= 5 && entrada.senha >= 5 && entrada.senha2 >= 5) {\n      return (\n      setBtn_disabled('#000'),\n      setBtn_color(false) \n      )\n    } \n  }\n\n  return (\n    <React.Fragment>\n        <section className=\"telaCadastro\">\n            <div className=\"cadastro\">\n                <img className=\"logoPrincipal\" src={logoPlaystars} alt=\"Logo PlayStarts\" />\n                <h2 className=\"tituloLogo\">Olá Vamos começar seu cadastro?</h2>           \n                <Form className=\"dados\">\n                    <div className=\"inputInline\">\n                        <FormField id=\"email\" name=\"email\" onInput={on_input.bind(this)} \n                        onChange={habChange.bind(this)} \n                        type=\"text\" label=\"Email\"/>\n                    </div>\n                    <div className=\"inputInline\">\n                        <FormField id=\"senha\" name=\"senha\" onInput={on_input.bind(this)} \n                        onChange={habChange.bind(this)} type=\"password\" label=\"Senha\"/>\n                    </div>\n                    <div className=\"inputInline\">\n                      <FormField \n                      id=\"senha2\" name=\"senha2\" type=\"password\" onInput={on_input.bind(this)} onChange={habChange.bind(this)} label=\"Confirme a senha\"/>\n                    </div>                  \n                    <button className=\"continuar\" \n                    style={{background: `${btn_color}` }} \n                    type=\"submit\" \n                    disabled={btn_disabled}\n                  \n                    // onSubmit={props.isSubmitting}\n                    >Continuar</button>\n                </Form>\n            </div>\n        </section>\n    </React.Fragment>   \n  )\n}\n\nconsole.log()\n\nconst SignupForm = withRouter(withFormik({\n    mapPropsToValues({\n                       email,\n                       senha,\n                       senha2\n                     }) {\n      return {\n        email: email || '',\n        senha: senha || '',\n        senha2: senha2 || ''\n      }\n    },\n    validationSchema: Yup.object().shape({\n      email: Yup.string()\n        .required(\"Campo obrigatório\")\n        .email('Email inválido'),\n      senha: Yup.string()\n        .required(\"Campo obrigatório\")\n        .min(8, \"Mínimo 8 caracteres\"),\n      senha2: Yup.string()\n        .required(\"Campo obrigatório\")\n    }),\n    handleSubmit({ email, senha, senha2 }, { props, setFieldError, setSubmitting }) {\n      console.log(props);\n      if(senha !== senha2) {\n        setFieldError(\"senha\", \"As senhas digitadas não estão idênticas.\");\n        setFieldError(\"senha2\", \"As senhas digitadas não estão idênticas.\");\n        return;\n      } \n      setSubmitting(true);\n  \n      Auth.signUp(email, senha)\n        .then((result) => {\n          console.log('Resultado do signup: ', result)\n          console.log('funcionou')\n          props.history.push('/codconfirmacao', { email: email });\n          console.log('Minhas props no inicio do cadastro:',props)\n        })\n        .catch(error => {\n          switch(error.code) {\n            case \"UsernameExistsException\":\n              setFieldError(\"email\", \"Email já está em uso.\");\n              break;\n            default:\n              console.log('Erro fazendo signup: ', error);\n              window.alert('Erro fazendo signup');\n              break;\n          }\n          setSubmitting(false);\n  \n        });\n    }\n  })(Signup));\n  \n  export default SignupForm;"]},"metadata":{},"sourceType":"module"}