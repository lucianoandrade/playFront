{"ast":null,"code":"var _jsxFileName = \"/Users/luciano/Desktop/Projetos/PlayerStars/frontend/src/components/HistoricoCompras/index.js\";\nimport React, { Component } from 'react';\nimport Card from './Card/index';\nimport Loader from '../../components/Loader/index';\nimport config from '../../config/constants';\nimport { API } from \"aws-amplify\";\nimport './styles.scss';\n\nfunction RenderLoading() {\n  return React.createElement(\"div\", {\n    className: \"Loading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, React.createElement(Loader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }));\n}\n\nclass ComponentHistoricoCompras extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      history: [],\n      isLoading: true\n    };\n\n    this.getHistorico = () => {\n      API.get(config.APIS.PLAYERSTARS, '/purchase/history').then(response => {\n        console.log(\"RESULTADO DO GET: \", response.data);\n        this.setState({\n          history: response.data,\n          isLoading: false\n        });\n      }).catch(error => {\n        console.log(\"ERRO NO GET: \", error);\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getHistorico();\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return React.createElement(RenderLoading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"section\", {\n      className: \"containerHistoricoCompras\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"titleHistorico\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Hist\\xF3rico de Compra\"), this.state.history.map((purchase, index) => React.createElement(Card, {\n      key: index,\n      price: purchase.product.price,\n      starType: purchase.product.star_type,\n      starValue: purchase.product.star_value,\n      status: purchase.payment.transactions[0].status,\n      date: purchase.purchase_datetime,\n      payment: purchase.payment.payment_type,\n      duration: purchase.product.duration,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default ComponentHistoricoCompras;","map":{"version":3,"sources":["/Users/luciano/Desktop/Projetos/PlayerStars/frontend/src/components/HistoricoCompras/index.js"],"names":["React","Component","Card","Loader","config","API","RenderLoading","ComponentHistoricoCompras","state","history","isLoading","getHistorico","get","APIS","PLAYERSTARS","then","response","console","log","data","setState","catch","error","componentDidMount","render","map","purchase","index","product","price","star_type","star_value","payment","transactions","status","purchase_datetime","payment_type","duration"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,SAASC,GAAT,QAAoB,aAApB;AAEA,OAAO,eAAP;;AAEA,SAASC,aAAT,GAAyB;AACrB,SACI;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAKH;;AAED,MAAMC,yBAAN,SAAwCN,SAAxC,CAAkD;AAAA;AAAA;AAAA,SAE9CO,KAF8C,GAEtC;AACJC,MAAAA,OAAO,EAAE,EADL;AAEJC,MAAAA,SAAS,EAAE;AAFP,KAFsC;;AAAA,SAW9CC,YAX8C,GAW/B,MAAM;AACjBN,MAAAA,GAAG,CAACO,GAAJ,CAAQR,MAAM,CAACS,IAAP,CAAYC,WAApB,EAAiC,mBAAjC,EACKC,IADL,CACUC,QAAQ,IAAI;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCF,QAAQ,CAACG,IAA3C;AACA,aAAKC,QAAL,CAAc;AACVX,UAAAA,OAAO,EAAEO,QAAQ,CAACG,IADR;AAEVT,UAAAA,SAAS,EAAE;AAFD,SAAd;AAIH,OAPL,EAQKW,KARL,CAQWC,KAAK,IAAI;AACZL,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BI,KAA7B;AACH,OAVL;AAWH,KAvB6C;AAAA;;AAO9CC,EAAAA,iBAAiB,GAAG;AAChB,SAAKZ,YAAL;AACH;;AAgBDa,EAAAA,MAAM,GAAG;AAEL,QAAI,KAAKhB,KAAL,CAAWE,SAAf,EAA0B;AACtB,aAAO,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;;AAED,WACI;AAAS,MAAA,SAAS,EAAC,2BAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADJ,EAEK,KAAKF,KAAL,CAAWC,OAAX,CAAmBgB,GAAnB,CAAuB,CAACC,QAAD,EAAWC,KAAX,KAAqB,oBAAC,IAAD;AACzC,MAAA,GAAG,EAAEA,KADoC;AAEzC,MAAA,KAAK,EAAED,QAAQ,CAACE,OAAT,CAAiBC,KAFiB;AAGzC,MAAA,QAAQ,EAAEH,QAAQ,CAACE,OAAT,CAAiBE,SAHc;AAIzC,MAAA,SAAS,EAAEJ,QAAQ,CAACE,OAAT,CAAiBG,UAJa;AAKzC,MAAA,MAAM,EAAEL,QAAQ,CAACM,OAAT,CAAiBC,YAAjB,CAA8B,CAA9B,EAAiCC,MALA;AAMzC,MAAA,IAAI,EAAER,QAAQ,CAACS,iBAN0B;AAOzC,MAAA,OAAO,EAAET,QAAQ,CAACM,OAAT,CAAiBI,YAPe;AAQzC,MAAA,QAAQ,EAAEV,QAAQ,CAACE,OAAT,CAAiBS,QARc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA5C,CAFL,CADJ;AAeH;;AA9C6C;;AAiDlD,eAAe9B,yBAAf","sourcesContent":["import React, { Component } from 'react'\n\nimport Card from './Card/index';\nimport Loader from '../../components/Loader/index'\nimport config from '../../config/constants';\nimport { API } from \"aws-amplify\";\n\nimport './styles.scss';\n\nfunction RenderLoading() {\n    return (\n        <div className=\"Loading\">\n            <Loader />\n        </div>\n    )\n}\n\nclass ComponentHistoricoCompras extends Component {\n\n    state = {\n        history: [],\n        isLoading: true\n    }\n\n    componentDidMount() {\n        this.getHistorico()\n    }\n\n    getHistorico = () => {\n        API.get(config.APIS.PLAYERSTARS, '/purchase/history')\n            .then(response => {\n                console.log(\"RESULTADO DO GET: \", response.data)\n                this.setState({\n                    history: response.data,\n                    isLoading: false\n                })\n            })\n            .catch(error => {\n                console.log(\"ERRO NO GET: \", error)\n            })\n    }\n\n    render() {\n\n        if (this.state.isLoading) {\n            return <RenderLoading />\n        }\n\n        return (\n            <section className=\"containerHistoricoCompras\">\n                <h1 className=\"titleHistorico\">Hist√≥rico de Compra</h1>\n                {this.state.history.map((purchase, index) => <Card\n                    key={index}\n                    price={purchase.product.price}\n                    starType={purchase.product.star_type}\n                    starValue={purchase.product.star_value}\n                    status={purchase.payment.transactions[0].status}\n                    date={purchase.purchase_datetime}\n                    payment={purchase.payment.payment_type}\n                    duration={purchase.product.duration}\n                />)}\n            </section>\n        )\n    }\n}\n\nexport default ComponentHistoricoCompras;"]},"metadata":{},"sourceType":"module"}